{"version":3,"sources":["webpack:///static/js/3.b654176e29284fd25851.js","webpack:///./src/pages/message.vue","webpack:///./~/.6.23.0@babel-runtime/core-js/object/define-property.js?878d**","webpack:///./~/.2.4.1@core-js/library/fn/object/define-property.js?c28c**","webpack:///./~/.2.4.1@core-js/library/modules/es6.object.define-property.js?2137**","webpack:///./src/components/aside.vue?a7d8**","webpack:///./src/components/aside.vue?28e9*","webpack:///./src/components/aside.vue?e8dd**","webpack:///./src/components/aside.vue?59bd**","webpack:///./~/.6.23.0@babel-runtime/helpers/defineProperty.js?1010*","webpack:///aside.vue?8267*","webpack:///./src/pages/message.vue?1363","webpack:///./src/pages/message.vue?52a4","webpack:///./src/pages/message.vue?2094","webpack:///message.vue"],"names":["webpackJsonp","179","module","exports","__webpack_require__","injectStyle","ssrContext","Component","184","default","__esModule","191","$Object","Object","it","key","desc","defineProperty","193","$export","S","F","f","194","push","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","195","196","render","_vm","this","_h","$createElement","_c","_self","author","attrs","body-style","bodyStyle","staticClass","slot","_v","to","name","params","id","src","avatar_url","alt","domProps","textContent","_s","username","score","_e","staticRenderFns","197","content","locals","200","_defineProperty","_defineProperty2","obj","value","enumerable","configurable","writable","201","__webpack_exports__","$","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default","n","data","_bodyStyle","display","props","computed","recentLength","length","recent_topics","created","authorId","fetchUserInfo","mounted","watch","methods","_this","self","ajax","url","type","done","res","success","console","log","fail","error","goToTopic","topicId","$router","call","236","248","gutter","span","messages","hasnot_read_messages","max","staticStyle","float","nativeOn","click","$event","markAll","_l","item","loginname","topic","title","_f","create_at","has_read_messages","user","author-name","hasRecent","258","271","__WEBPACK_IMPORTED_MODULE_0__components_header_vue__","__WEBPACK_IMPORTED_MODULE_0__components_header_vue___default","__WEBPACK_IMPORTED_MODULE_1__components_aside_vue__","__WEBPACK_IMPORTED_MODULE_1__components_aside_vue___default","__WEBPACK_IMPORTED_MODULE_2_vuex__","accesstoken","fetchMessages","setLoading","$message","showClose","message","_this2","dataType","concat","$store","commit","localStorage","state","components","cvHead","a","cvAside"],"mappings":"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","file":"static/js/3.b654176e29284fd25851.js","sourcesContent":["webpackJsonp([3],{\n\n/***/ 179:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(258)\n}\nvar Component = __webpack_require__(12)(\n  /* script */\n  __webpack_require__(271),\n  /* template */\n  __webpack_require__(248),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 184:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(191), __esModule: true };\n\n/***/ }),\n\n/***/ 191:\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(193);\nvar $Object = __webpack_require__(5).Object;\nmodule.exports = function defineProperty(it, key, desc){\n  return $Object.defineProperty(it, key, desc);\n};\n\n/***/ }),\n\n/***/ 193:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar $export = __webpack_require__(14);\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !__webpack_require__(10), 'Object', {defineProperty: __webpack_require__(13).f});\n\n/***/ }),\n\n/***/ 194:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(173)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".author-avatar{max-width:100%;display:block;padding:20px;text-align:center;border-bottom:1px solid hsla(0,0%,63%,.2)}.author-avatar img{width:auto;max-width:100%;max-height:100px;left:0;right:0;top:0;bottom:0}.author-info{padding:20px;border-bottom:1px solid hsla(0,0%,63%,.2)}.author-name{line-height:48px;font-size:24px;font-weight:300;color:#212121}.author-name:hover{text-decoration:underline}.author-detail .author-score{color:#838383}.author-recent-topic.title{padding:18px 20px;border-bottom:1px solid hsla(0,0%,63%,.2)}.topic-list ul{list-style:none}.topic-list li{line-height:1.5;border-bottom:1px solid hsla(0,0%,63%,.2);padding:10px}.topic-list a{color:#838383}\", \"\", {\"version\":3,\"sources\":[\"C:/Users/gwj12/Desktop/frontend_club/src/components/aside.vue\"],\"names\":[],\"mappings\":\"AACA,eACI,eAAgB,AAChB,cAAe,AACf,aAAc,AACd,kBAAmB,AACnB,yCAAkD,CACrD,AACD,mBACI,WAAY,AACZ,eAAgB,AAChB,iBAAkB,AAClB,OAAQ,AACR,QAAS,AACT,MAAO,AACP,QAAU,CACb,AACD,aACI,aAAc,AACd,yCAAkD,CACrD,AACD,aACI,iBAAkB,AAClB,eAAgB,AAChB,gBAAiB,AACjB,aAAe,CAClB,AACD,mBACI,yBAA2B,CAC9B,AACD,6BACI,aAAe,CAClB,AACD,2BACI,kBAAmB,AACnB,yCAAkD,CACrD,AACD,eACI,eAAiB,CACpB,AACD,eACI,gBAAiB,AACjB,0CAAkD,AAClD,YAAc,CACjB,AACD,cACI,aAAe,CAClB\",\"file\":\"aside.vue\",\"sourcesContent\":[\"\\n.author-avatar {\\r\\n    max-width: 100%;\\r\\n    display: block;\\r\\n    padding: 20px;\\r\\n    text-align: center;\\r\\n    border-bottom: 1px solid rgba(160, 160, 160, 0.2);\\n}\\n.author-avatar img {\\r\\n    width: auto;\\r\\n    max-width: 100%;\\r\\n    max-height: 100px;\\r\\n    left: 0;\\r\\n    right: 0;\\r\\n    top: 0;\\r\\n    bottom: 0;\\n}\\n.author-info {\\r\\n    padding: 20px;\\r\\n    border-bottom: 1px solid rgba(160, 160, 160, 0.2);\\n}\\n.author-name {\\r\\n    line-height: 48px;\\r\\n    font-size: 24px;\\r\\n    font-weight: 300;\\r\\n    color: #212121;\\n}\\n.author-name:hover {\\r\\n    text-decoration: underline;\\n}\\n.author-detail .author-score {\\r\\n    color: #838383;\\n}\\n.author-recent-topic.title {\\r\\n    padding: 18px 20px;\\r\\n    border-bottom: 1px solid rgba(160, 160, 160, 0.2);\\n}\\n.topic-list ul {\\r\\n    list-style: none;\\n}\\n.topic-list li {\\r\\n    line-height: 1.5;\\r\\n    border-bottom: 1px solid rgba(160, 160, 160, 0.2);\\r\\n    padding: 10px;\\n}\\n.topic-list a {\\r\\n    color: #838383;\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 195:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(197)\n}\nvar Component = __webpack_require__(12)(\n  /* script */\n  __webpack_require__(201),\n  /* template */\n  __webpack_require__(196),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 196:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return (_vm.author.username) ? _c('el-card', {\n    attrs: {\n      \"body-style\": _vm.bodyStyle\n    }\n  }, [_c('div', {\n    staticClass: \"clearfix\",\n    slot: \"header\"\n  }, [(_vm.hasRecent) ? _c('span', [_vm._v(\"作者信息\")]) : _c('span', [_vm._v(\"个人信息\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"text\"\n  }, [_c('router-link', {\n    staticClass: \"author-avatar\",\n    attrs: {\n      \"to\": {\n        name: 'user',\n        params: {\n          name: _vm.author.id\n        }\n      }\n    }\n  }, [_c('img', {\n    staticClass: \"img\",\n    attrs: {\n      \"src\": _vm.author.avatar_url,\n      \"alt\": \"\"\n    }\n  })]), _vm._v(\" \"), _c('section', {\n    staticClass: \"author-info\"\n  }, [_c('router-link', {\n    staticClass: \"author-name\",\n    attrs: {\n      \"to\": {\n        name: 'user',\n        params: {\n          name: _vm.author.id\n        }\n      }\n    }\n  }, [_c('span', {\n    domProps: {\n      \"textContent\": _vm._s(_vm.author.username)\n    }\n  })]), _vm._v(\" \"), _c('p', {\n    staticClass: \"author-detail\"\n  }, [_c('span', {\n    staticClass: \"author-score\"\n  }, [_vm._v(\"积分：\" + _vm._s(_vm.author.score))])])], 1)], 1)]) : _vm._e()\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 197:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(194);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(174)(\"1ef0af6a\", content, true);\n\n/***/ }),\n\n/***/ 200:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.__esModule = true;\n\nvar _defineProperty = __webpack_require__(184);\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (obj, key, value) {\n  if (key in obj) {\n    (0, _defineProperty2.default)(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\n/***/ }),\n\n/***/ 201:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* WEBPACK VAR INJECTION */(function($) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty__ = __webpack_require__(200);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty__);\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    data: function data() {\n        var _bodyStyle;\n\n        return {\n            author: {},\n            bodyStyle: (_bodyStyle = {\n                display: \"-webkit-flex\"\n            }, __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_bodyStyle, \"display\", \"ms-flex\"), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_bodyStyle, \"display\", \"flex\"), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_bodyStyle, \"padding\", 0), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_bodyStyle, \"flexDirection\", \"column\"), __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_defineProperty___default()(_bodyStyle, \"position\", \"relative\"), _bodyStyle)\n        };\n    },\n\n    props: [\"authorId\", \"topicId\", \"hasRecent\"],\n    computed: {\n        recentLength: function recentLength() {\n            var length = this.author.recent_topics.length;\n            return length > 10 && 10 || length;\n        }\n    },\n    created: function created() {\n        if (this.authorId) {\n            this.fetchUserInfo();\n        }\n    },\n    mounted: function mounted() {},\n\n    watch: {\n        \"authorId\": function authorId() {\n            if (this.authorId) {\n                this.fetchUserInfo();\n            }\n        }\n    },\n    methods: {\n        fetchUserInfo: function fetchUserInfo() {\n            var _this = this;\n\n            var self = this;\n            $.ajax({\n                url: \"http://119.23.245.101:8080/User/GetUserid\",\n                type: \"GET\",\n                data: {\n                    id: self.authorId\n                }\n            }).done(function (res) {\n                if (!res || !res.success) {\n                    return;\n                }\n                _this.author = res.data;\n                console.log(_this.author);\n                _this.author.recent_topics = [];\n            }).fail(function (error) {});\n        },\n        goToTopic: function goToTopic(topicId) {\n            if (!topicId) return;\n            this.$router.push({\n                name: \"topic\",\n                params: {\n                    id: topicId\n                }\n            });\n        }\n    }\n});\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(22)))\n\n/***/ }),\n\n/***/ 236:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(173)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".messages .message-item{border-top:1px solid #f0f0f0;padding:10px 0}.messages .message-item:first-of-type{border-top:none;padding-top:0}.messages .message-item .messager-avatar{display:inline-block}.messages .message-item .messager-avatar img{width:30px;height:30px}.messages .message-item .link{color:#20a0ff}.message-content{display:inline-block}.messages .message-item .message-time{float:right;text-align:right;min-width:50px;display:inline-block;white-space:nowrap;color:#778087;font-size:11px}\", \"\", {\"version\":3,\"sources\":[\"C:/Users/gwj12/Desktop/frontend_club/src/pages/message.vue\"],\"names\":[],\"mappings\":\"AACA,wBACI,6BAA8B,AAC9B,cAAgB,CACnB,AACD,sCACI,gBAAiB,AACjB,aAAe,CAClB,AACD,yCACI,oBAAsB,CACzB,AACD,6CACI,WAAY,AACZ,WAAa,CAChB,AACD,8BACI,aAAe,CAClB,AACD,iBACI,oBAAsB,CACzB,AACD,sCACI,YAAa,AACb,iBAAkB,AAClB,eAAgB,AAChB,qBAAsB,AACtB,mBAAoB,AACpB,cAAe,AACf,cAAgB,CACnB\",\"file\":\"message.vue\",\"sourcesContent\":[\"\\n.messages .message-item {\\r\\n    border-top: 1px solid #f0f0f0;\\r\\n    padding: 10px 0;\\n}\\n.messages .message-item:nth-of-type(1) {\\r\\n    border-top: none;\\r\\n    padding-top: 0;\\n}\\n.messages .message-item .messager-avatar {\\r\\n    display: inline-block;\\n}\\n.messages .message-item .messager-avatar img {\\r\\n    width: 30px;\\r\\n    height: 30px;\\n}\\n.messages .message-item .link {\\r\\n    color: #20a0ff;\\n}\\n.message-content {\\r\\n    display: inline-block;\\n}\\n.messages .message-item .message-time {\\r\\n    float: right;\\r\\n    text-align: right;\\r\\n    min-width: 50px;\\r\\n    display: inline-block;\\r\\n    white-space: nowrap;\\r\\n    color: #778087;\\r\\n    font-size: 11px;\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 248:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"container\"\n    }\n  }, [_c('main', {\n    attrs: {\n      \"id\": \"main\"\n    }\n  }, [_c('el-row', {\n    attrs: {\n      \"gutter\": 20\n    }\n  }, [_c('el-col', {\n    attrs: {\n      \"span\": 18\n    }\n  }, [_c('el-row', [_c('el-col', {\n    attrs: {\n      \"span\": 24\n    }\n  }, [_c('div', {\n    staticClass: \"grid-content bg-purple\"\n  }, [_c('el-card', {\n    staticClass: \"box-card\"\n  }, [_c('div', {\n    staticClass: \"clearfix\",\n    slot: \"header\"\n  }, [_c('div', [_c('span', [_vm._v(\"新消息\")]), _vm._v(\" \"), _c('el-badge', {\n    staticClass: \"mark\",\n    attrs: {\n      \"value\": _vm.messages.hasnot_read_messages.length,\n      \"max\": 99\n    }\n  }), _vm._v(\" \"), _c('el-button', {\n    staticStyle: {\n      \"float\": \"right\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.markAll($event)\n      }\n    }\n  }, [_vm._v(\"全部已读\")])], 1)]), _vm._v(\" \"), _c('main', {\n    staticClass: \"hasnot-read-messages messages\"\n  }, [(_vm.messages.hasnot_read_messages.length) ? _c('ul', {\n    staticClass: \"hasnot-read-list\"\n  }, _vm._l((_vm.messages.hasnot_read_messages), function(item) {\n    return _c('li', {\n      staticClass: \"message-item hasnot-read-item\"\n    }, [_c('router-link', {\n      staticClass: \"messager-avatar\",\n      attrs: {\n        \"to\": {\n          name: 'user',\n          params: {\n            name: item.author.loginname\n          }\n        }\n      }\n    }, [_c('img', {\n      attrs: {\n        \"src\": item.author.avatar_url,\n        \"alt\": \"\"\n      }\n    })]), _vm._v(\" \"), _c('router-link', {\n      staticClass: \"messager-name link\",\n      attrs: {\n        \"to\": {\n          name: 'user',\n          params: {\n            name: item.author.loginname\n          }\n        }\n      }\n    }, [_vm._v(\"\\n                                              \" + _vm._s(item.author.loginname) + \"\\n                                          \")]), _vm._v(\" \"), _c('p', {\n      staticClass: \"message-content\"\n    }, [(item.type == 'at') ? _c('span', [_vm._v(\"在话题\")]) : _vm._e(), _vm._v(\" \"), (item.type == 'reply') ? _c('span', [_vm._v(\"回复了您的话题\")]) : _vm._e(), _vm._v(\" \"), _c('router-link', {\n      staticClass: \"message-topic link\",\n      attrs: {\n        \"to\": {\n          name: 'topic',\n          params: {\n            id: item.topic.id\n          }\n        }\n      }\n    }, [_vm._v(\"\\n                                                  \" + _vm._s(item.topic.title) + \"\\n                                              \")]), _vm._v(\" \"), (item.type == 'at') ? _c('span', [_vm._v(\"@了您\")]) : _vm._e()], 1), _vm._v(\" \"), _c('span', {\n      staticClass: \"message-time\"\n    }, [_vm._v(_vm._s(_vm._f(\"getDateFromNow\")(item.create_at)))])], 1)\n  })) : _c('span', {\n    staticClass: \"noData\"\n  }, [_vm._v(\"暂无消息\")])])])], 1)])], 1), _vm._v(\" \"), _c('el-row', {\n    staticClass: \"cv-panel\"\n  }, [_c('el-col', {\n    attrs: {\n      \"span\": 24\n    }\n  }, [_c('div', {\n    staticClass: \"grid-content bg-purple\"\n  }, [_c('el-card', {\n    staticClass: \"box-card\"\n  }, [_c('div', {\n    staticClass: \"clearfix\",\n    slot: \"header\"\n  }, [_c('div', [_c('span', [_vm._v(\"已读消息\")]), _vm._v(\" \"), _c('el-badge', {\n    staticClass: \"mark\",\n    attrs: {\n      \"value\": _vm.messages.has_read_messages.length,\n      \"max\": 99\n    }\n  })], 1)]), _vm._v(\" \"), _c('main', {\n    staticClass: \"has-read-messages messages\"\n  }, [(_vm.messages.has_read_messages.length) ? _c('ul', {\n    staticClass: \"has-read-list\"\n  }, _vm._l((_vm.messages.has_read_messages), function(item) {\n    return _c('li', {\n      staticClass: \"message-item has-read-item\"\n    }, [_c('router-link', {\n      staticClass: \"messager-avatar\",\n      attrs: {\n        \"to\": {\n          name: 'user',\n          params: {\n            name: item.author.loginname\n          }\n        }\n      }\n    }, [_c('img', {\n      attrs: {\n        \"src\": item.author.avatar_url,\n        \"alt\": \"\"\n      }\n    })]), _vm._v(\" \"), _c('router-link', {\n      staticClass: \"messager-name link\",\n      attrs: {\n        \"to\": {\n          name: 'user',\n          params: {\n            name: item.author.loginname\n          }\n        }\n      }\n    }, [_vm._v(\"\\n                                              \" + _vm._s(item.author.loginname) + \"\\n                                          \")]), _vm._v(\" \"), _c('p', {\n      staticClass: \"message-content\"\n    }, [(item.type == 'at') ? _c('span', [_vm._v(\"在话题\")]) : _vm._e(), _vm._v(\" \"), (item.type == 'reply') ? _c('span', [_vm._v(\"回复了您的话题\")]) : _vm._e(), _vm._v(\" \"), _c('router-link', {\n      staticClass: \"message-topic link\",\n      attrs: {\n        \"to\": {\n          name: 'topic',\n          params: {\n            id: item.topic.id\n          }\n        }\n      }\n    }, [_vm._v(\"\\n                                                  \" + _vm._s(item.topic.title) + \"\\n                                              \")]), _vm._v(\" \"), (item.type == 'at') ? _c('span', [_vm._v(\"@了您\")]) : _vm._e()], 1), _vm._v(\" \"), _c('span', {\n      staticClass: \"message-time\"\n    }, [_vm._v(_vm._s(_vm._f(\"getDateFromNow\")(item.create_at)))])], 1)\n  })) : _c('span', {\n    staticClass: \"noData\"\n  }, [_vm._v(\"暂无消息\")])])])], 1)])], 1)], 1), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 6\n    }\n  }, [_c('div', {\n    staticClass: \"grid-content bg-purple\"\n  }, [(_vm.user.loginname) ? _c('cvAside', {\n    attrs: {\n      \"author-name\": _vm.user.loginname,\n      \"hasRecent\": false\n    }\n  }) : _vm._e()], 1)])], 1)], 1)])\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 258:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(236);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(174)(\"593ac2e4\", content, true);\n\n/***/ }),\n\n/***/ 271:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* WEBPACK VAR INJECTION */(function($) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_header_vue__ = __webpack_require__(67);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_header_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_header_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_aside_vue__ = __webpack_require__(195);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_aside_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__components_aside_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vuex__ = __webpack_require__(25);\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    data: function data() {\n        return {\n            messages: {\n                has_read_messages: [],\n                hasnot_read_messages: []\n            }\n        };\n    },\n\n    computed: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_vuex__[\"a\" /* mapGetters */])({\n        user: \"getUserInfo\"\n    }),\n    created: function created() {\n        if (this.user.accesstoken) {\n            this.fetchMessages();\n        }\n    },\n    mounted: function mounted() {},\n\n    methods: {\n        fetchMessages: function fetchMessages() {\n            var _this = this;\n\n            this.setLoading(true);\n            var self = this;\n            $.ajax({\n                url: \"https://cnodejs.org/api/v1/messages\",\n                type: \"GET\",\n                data: {\n                    accesstoken: self.user.accesstoken\n                }\n            }).done(function (res) {\n                self.setLoading(false);\n                if (!res || !res.success) {\n                    self.$message({\n                        showClose: true,\n                        message: \"数据获取失败，请稍后再试！\",\n                        type: \"warning\"\n                    });\n                    return;\n                }\n                self.messages = res.data || self.messages;\n            }).fail(function (error) {\n                _this.setLoading(false);\n\n                self.$message({\n                    showClose: true,\n                    message: \"数据获取失败，请稍后再试！\",\n                    type: \"warning\"\n                });\n            });\n        },\n        markAll: function markAll() {\n            var _this2 = this;\n\n            if (!this.user.accesstoken) {\n                return;\n            }\n            if (this.messages.hasnot_read_messages.length < 1) {\n                this.$message({\n                    showClose: true,\n                    message: \"暂无未读消息\",\n                    type: \"info\"\n                });\n                return;\n            }\n            this.setLoading(true);\n            var self = this;\n            $.ajax({\n                url: \"https://cnodejs.org/api/v1/message/mark_all\",\n                type: \"POST\",\n                dataType: \"json\",\n                data: {\n                    accesstoken: self.user.accesstoken\n                }\n            }).done(function (res) {\n                _this2.setLoading(false);\n                if (!res || !res.success) {\n                    self.$message({\n                        showClose: true,\n                        message: \"操作失败\",\n                        type: \"warning\"\n                    });\n                    return;\n                }\n                self.messages.has_read_messages = self.messages.hasnot_read_messages.concat(self.messages.has_read_messages);\n                self.messages.hasnot_read_messages = [];\n                self.$message({\n                    showClose: true,\n                    message: \"消息全部设置已读！\",\n                    type: \"success\"\n                });\n                self.$store.commit(\"setValue\", {\n                    key: \"message\",\n                    value: 0\n                });\n                localStorage.message = 0;\n            }).fail(function (error) {\n                _this2.setLoading(false);\n                self.$message({\n                    showClose: true,\n                    message: \"操作失败\",\n                    type: \"warning\"\n                });\n            });\n        },\n        setLoading: function setLoading(state) {\n            this.$store.commit(\"setLoading\", state);\n        }\n    },\n    components: {\n        cvHead: __WEBPACK_IMPORTED_MODULE_0__components_header_vue___default.a,\n        cvAside: __WEBPACK_IMPORTED_MODULE_1__components_aside_vue___default.a\n    }\n});\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(22)))\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/3.b654176e29284fd25851.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/.2.1.0@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/.12.1.0@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-af779032\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/.12.1.0@vue-loader/lib/selector?type=styles&index=0!./message.vue\")\n}\nvar Component = require(\"!../../node_modules/.12.1.0@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/.12.1.0@vue-loader/lib/selector?type=script&index=0!./message.vue\"),\n  /* template */\n  require(\"!!../../node_modules/.12.1.0@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-af779032\\\"}!../../node_modules/.12.1.0@vue-loader/lib/selector?type=template&index=0!./message.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/message.vue\n// module id = 179\n// module chunks = 3","module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.6.23.0@babel-runtime/core-js/object/define-property.js\n// module id = 184\n// module chunks = 0 1 2 3","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc){\n  return $Object.defineProperty(it, key, desc);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.2.4.1@core-js/library/fn/object/define-property.js\n// module id = 191\n// module chunks = 0 1 2 3","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', {defineProperty: require('./_object-dp').f});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.2.4.1@core-js/library/modules/es6.object.define-property.js\n// module id = 193\n// module chunks = 0 1 2 3","exports = module.exports = require(\"../../node_modules/.0.28.3@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".author-avatar{max-width:100%;display:block;padding:20px;text-align:center;border-bottom:1px solid hsla(0,0%,63%,.2)}.author-avatar img{width:auto;max-width:100%;max-height:100px;left:0;right:0;top:0;bottom:0}.author-info{padding:20px;border-bottom:1px solid hsla(0,0%,63%,.2)}.author-name{line-height:48px;font-size:24px;font-weight:300;color:#212121}.author-name:hover{text-decoration:underline}.author-detail .author-score{color:#838383}.author-recent-topic.title{padding:18px 20px;border-bottom:1px solid hsla(0,0%,63%,.2)}.topic-list ul{list-style:none}.topic-list li{line-height:1.5;border-bottom:1px solid hsla(0,0%,63%,.2);padding:10px}.topic-list a{color:#838383}\", \"\", {\"version\":3,\"sources\":[\"C:/Users/gwj12/Desktop/frontend_club/src/components/aside.vue\"],\"names\":[],\"mappings\":\"AACA,eACI,eAAgB,AAChB,cAAe,AACf,aAAc,AACd,kBAAmB,AACnB,yCAAkD,CACrD,AACD,mBACI,WAAY,AACZ,eAAgB,AAChB,iBAAkB,AAClB,OAAQ,AACR,QAAS,AACT,MAAO,AACP,QAAU,CACb,AACD,aACI,aAAc,AACd,yCAAkD,CACrD,AACD,aACI,iBAAkB,AAClB,eAAgB,AAChB,gBAAiB,AACjB,aAAe,CAClB,AACD,mBACI,yBAA2B,CAC9B,AACD,6BACI,aAAe,CAClB,AACD,2BACI,kBAAmB,AACnB,yCAAkD,CACrD,AACD,eACI,eAAiB,CACpB,AACD,eACI,gBAAiB,AACjB,0CAAkD,AAClD,YAAc,CACjB,AACD,cACI,aAAe,CAClB\",\"file\":\"aside.vue\",\"sourcesContent\":[\"\\n.author-avatar {\\r\\n    max-width: 100%;\\r\\n    display: block;\\r\\n    padding: 20px;\\r\\n    text-align: center;\\r\\n    border-bottom: 1px solid rgba(160, 160, 160, 0.2);\\n}\\n.author-avatar img {\\r\\n    width: auto;\\r\\n    max-width: 100%;\\r\\n    max-height: 100px;\\r\\n    left: 0;\\r\\n    right: 0;\\r\\n    top: 0;\\r\\n    bottom: 0;\\n}\\n.author-info {\\r\\n    padding: 20px;\\r\\n    border-bottom: 1px solid rgba(160, 160, 160, 0.2);\\n}\\n.author-name {\\r\\n    line-height: 48px;\\r\\n    font-size: 24px;\\r\\n    font-weight: 300;\\r\\n    color: #212121;\\n}\\n.author-name:hover {\\r\\n    text-decoration: underline;\\n}\\n.author-detail .author-score {\\r\\n    color: #838383;\\n}\\n.author-recent-topic.title {\\r\\n    padding: 18px 20px;\\r\\n    border-bottom: 1px solid rgba(160, 160, 160, 0.2);\\n}\\n.topic-list ul {\\r\\n    list-style: none;\\n}\\n.topic-list li {\\r\\n    line-height: 1.5;\\r\\n    border-bottom: 1px solid rgba(160, 160, 160, 0.2);\\r\\n    padding: 10px;\\n}\\n.topic-list a {\\r\\n    color: #838383;\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.0.28.3@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/.12.1.0@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-6b4a78a4\",\"scoped\":false,\"hasInlineConfig\":false}!./~/.12.1.0@vue-loader/lib/selector.js?type=styles&index=0!./src/components/aside.vue\n// module id = 194\n// module chunks = 0 2 3","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/.2.1.0@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/.12.1.0@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6b4a78a4\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/.12.1.0@vue-loader/lib/selector?type=styles&index=0!./aside.vue\")\n}\nvar Component = require(\"!../../node_modules/.12.1.0@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/.12.1.0@vue-loader/lib/selector?type=script&index=0!./aside.vue\"),\n  /* template */\n  require(\"!!../../node_modules/.12.1.0@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6b4a78a4\\\"}!../../node_modules/.12.1.0@vue-loader/lib/selector?type=template&index=0!./aside.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/aside.vue\n// module id = 195\n// module chunks = 0 2 3","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return (_vm.author.username) ? _c('el-card', {\n    attrs: {\n      \"body-style\": _vm.bodyStyle\n    }\n  }, [_c('div', {\n    staticClass: \"clearfix\",\n    slot: \"header\"\n  }, [(_vm.hasRecent) ? _c('span', [_vm._v(\"作者信息\")]) : _c('span', [_vm._v(\"个人信息\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"text\"\n  }, [_c('router-link', {\n    staticClass: \"author-avatar\",\n    attrs: {\n      \"to\": {\n        name: 'user',\n        params: {\n          name: _vm.author.id\n        }\n      }\n    }\n  }, [_c('img', {\n    staticClass: \"img\",\n    attrs: {\n      \"src\": _vm.author.avatar_url,\n      \"alt\": \"\"\n    }\n  })]), _vm._v(\" \"), _c('section', {\n    staticClass: \"author-info\"\n  }, [_c('router-link', {\n    staticClass: \"author-name\",\n    attrs: {\n      \"to\": {\n        name: 'user',\n        params: {\n          name: _vm.author.id\n        }\n      }\n    }\n  }, [_c('span', {\n    domProps: {\n      \"textContent\": _vm._s(_vm.author.username)\n    }\n  })]), _vm._v(\" \"), _c('p', {\n    staticClass: \"author-detail\"\n  }, [_c('span', {\n    staticClass: \"author-score\"\n  }, [_vm._v(\"积分：\" + _vm._s(_vm.author.score))])])], 1)], 1)]) : _vm._e()\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.12.1.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-6b4a78a4\"}!./~/.12.1.0@vue-loader/lib/selector.js?type=template&index=0!./src/components/aside.vue\n// module id = 196\n// module chunks = 0 2 3","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/.0.28.3@css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/.12.1.0@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6b4a78a4\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/.12.1.0@vue-loader/lib/selector.js?type=styles&index=0!./aside.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/.3.0.1@vue-style-loader/lib/addStylesClient.js\")(\"1ef0af6a\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.2.1.0@extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/.3.0.1@vue-style-loader!./~/.0.28.3@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/.12.1.0@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-6b4a78a4\",\"scoped\":false,\"hasInlineConfig\":false}!./~/.12.1.0@vue-loader/lib/selector.js?type=styles&index=0!./src/components/aside.vue\n// module id = 197\n// module chunks = 0 2 3","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (obj, key, value) {\n  if (key in obj) {\n    (0, _defineProperty2.default)(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.6.23.0@babel-runtime/helpers/defineProperty.js\n// module id = 200\n// module chunks = 0 2 3","<template lang=\"html\">\r\n  <el-card :body-style=\"bodyStyle\" v-if=\"author.username\">\r\n      <div slot=\"header\" class=\"clearfix\">\r\n        <span v-if=\"hasRecent\">作者信息</span>\r\n        <span v-else>个人信息</span>\r\n      </div>\r\n      <div class=\"text\">\r\n          <router-link :to=\"{name:'user', params: {name: author.id}}\" class=\"author-avatar\">\r\n              <img :src=\"author.avatar_url\" alt=\"\" class=\"img\"/>\r\n          </router-link>\r\n          <section class=\"author-info\">\r\n              <router-link :to=\"{name:'user', params: {name: author.id}}\" class=\"author-name\">\r\n                  <span v-text=\"author.username\"></span>\r\n              </router-link>\r\n              <p class=\"author-detail\">\r\n                  <span class=\"author-score\">积分：{{author.score}}</time></span>\r\n              </p>\r\n          </section>\r\n          <!--<section class=\"author-recent-topic\" v-if=\"hasRecent\">\r\n              <header class=\"title\">\r\n                  <span>最近其他文章</span>\r\n              </header>\r\n              <main class=\"topic-list\">\r\n                  <ul>\r\n                      <li v-for=\"n in recentLength\" v-if=\"author.recent_topics[n-1].id !== topicId\">\r\n                          <a href=\"javascript:\" @click.prevent=\"goToTopic(author.recent_topics[n-1].id)\">{{ author.recent_topics[n-1].title }}</a>\r\n                      </li>\r\n                      <li v-if=\"!author.recent_topics.length\">暂无</li>\r\n                      <li v-else>...</li>\r\n                  </ul>\r\n              </main>\r\n          </section>-->\r\n      </div>\r\n    </el-card>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data() {\r\n        return {\r\n            author: {},\r\n            bodyStyle: {\r\n                display: \"-webkit-flex\",\r\n                display: \"ms-flex\",\r\n                display: \"flex\",\r\n                padding: 0,\r\n                flexDirection: \"column\",\r\n                position: \"relative\"\r\n            }\r\n        }\r\n    },\r\n    props: [\"authorId\", \"topicId\", \"hasRecent\"],\r\n    computed: {\r\n        recentLength: function () {\r\n            let length = this.author.recent_topics.length;\r\n            return length > 10 && 10 || length;\r\n        }\r\n    },\r\n    created() {\r\n        if (this.authorId) {\r\n            this.fetchUserInfo();\r\n        }\r\n    },\r\n    mounted() { },\r\n    watch: {\r\n        \"authorId\"() {\r\n            if (this.authorId) {\r\n                this.fetchUserInfo();\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        //获取用户信息\r\n        fetchUserInfo() {\r\n            let self = this;\r\n            $.ajax({\r\n                url: \"http://119.23.245.101:8080/User/GetUserid\",\r\n                type: \"GET\",\r\n                data: {\r\n                    id: self.authorId\r\n                }\r\n            }).done((res) => {\r\n                if (!res || !res.success) {\r\n                    //TODO 是否错误抛出  有待商榷\r\n                    return;\r\n                }\r\n                this.author = res.data;\r\n                console.log(this.author)\r\n                this.author.recent_topics = [];\r\n            }).fail((error) => {\r\n                //TODO 是否错误抛出  有待商榷\r\n            });\r\n        },\r\n        goToTopic(topicId) {\r\n            if (!topicId)\r\n                return;\r\n            this.$router.push({\r\n                name: \"topic\",\r\n                params: {\r\n                    id: topicId\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"css\">\r\n.author-avatar {\r\n    max-width: 100%;\r\n    display: block;\r\n    padding: 20px;\r\n    text-align: center;\r\n    border-bottom: 1px solid rgba(160, 160, 160, 0.2);\r\n}\r\n\r\n.author-avatar img {\r\n    width: auto;\r\n    max-width: 100%;\r\n    max-height: 100px;\r\n    left: 0;\r\n    right: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n}\r\n\r\n.author-info {\r\n    padding: 20px;\r\n    border-bottom: 1px solid rgba(160, 160, 160, 0.2);\r\n}\r\n\r\n.author-name {\r\n    line-height: 48px;\r\n    font-size: 24px;\r\n    font-weight: 300;\r\n    color: #212121;\r\n}\r\n\r\n.author-name:hover {\r\n    text-decoration: underline;\r\n}\r\n\r\n.author-detail .author-score {\r\n    color: #838383;\r\n}\r\n\r\n.author-recent-topic.title {\r\n    padding: 18px 20px;\r\n    border-bottom: 1px solid rgba(160, 160, 160, 0.2);\r\n}\r\n\r\n\r\n\r\n\r\n.topic-list ul {\r\n    list-style: none;\r\n}\r\n\r\n.topic-list li {\r\n    line-height: 1.5;\r\n    border-bottom: 1px solid rgba(160, 160, 160, 0.2);\r\n    padding: 10px;\r\n}\r\n\r\n.topic-list a {\r\n    color: #838383;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// aside.vue?3bb29457","exports = module.exports = require(\"../../node_modules/.0.28.3@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".messages .message-item{border-top:1px solid #f0f0f0;padding:10px 0}.messages .message-item:first-of-type{border-top:none;padding-top:0}.messages .message-item .messager-avatar{display:inline-block}.messages .message-item .messager-avatar img{width:30px;height:30px}.messages .message-item .link{color:#20a0ff}.message-content{display:inline-block}.messages .message-item .message-time{float:right;text-align:right;min-width:50px;display:inline-block;white-space:nowrap;color:#778087;font-size:11px}\", \"\", {\"version\":3,\"sources\":[\"C:/Users/gwj12/Desktop/frontend_club/src/pages/message.vue\"],\"names\":[],\"mappings\":\"AACA,wBACI,6BAA8B,AAC9B,cAAgB,CACnB,AACD,sCACI,gBAAiB,AACjB,aAAe,CAClB,AACD,yCACI,oBAAsB,CACzB,AACD,6CACI,WAAY,AACZ,WAAa,CAChB,AACD,8BACI,aAAe,CAClB,AACD,iBACI,oBAAsB,CACzB,AACD,sCACI,YAAa,AACb,iBAAkB,AAClB,eAAgB,AAChB,qBAAsB,AACtB,mBAAoB,AACpB,cAAe,AACf,cAAgB,CACnB\",\"file\":\"message.vue\",\"sourcesContent\":[\"\\n.messages .message-item {\\r\\n    border-top: 1px solid #f0f0f0;\\r\\n    padding: 10px 0;\\n}\\n.messages .message-item:nth-of-type(1) {\\r\\n    border-top: none;\\r\\n    padding-top: 0;\\n}\\n.messages .message-item .messager-avatar {\\r\\n    display: inline-block;\\n}\\n.messages .message-item .messager-avatar img {\\r\\n    width: 30px;\\r\\n    height: 30px;\\n}\\n.messages .message-item .link {\\r\\n    color: #20a0ff;\\n}\\n.message-content {\\r\\n    display: inline-block;\\n}\\n.messages .message-item .message-time {\\r\\n    float: right;\\r\\n    text-align: right;\\r\\n    min-width: 50px;\\r\\n    display: inline-block;\\r\\n    white-space: nowrap;\\r\\n    color: #778087;\\r\\n    font-size: 11px;\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.0.28.3@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/.12.1.0@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-af779032\",\"scoped\":false,\"hasInlineConfig\":false}!./~/.12.1.0@vue-loader/lib/selector.js?type=styles&index=0!./src/pages/message.vue\n// module id = 236\n// module chunks = 3","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"container\"\n    }\n  }, [_c('main', {\n    attrs: {\n      \"id\": \"main\"\n    }\n  }, [_c('el-row', {\n    attrs: {\n      \"gutter\": 20\n    }\n  }, [_c('el-col', {\n    attrs: {\n      \"span\": 18\n    }\n  }, [_c('el-row', [_c('el-col', {\n    attrs: {\n      \"span\": 24\n    }\n  }, [_c('div', {\n    staticClass: \"grid-content bg-purple\"\n  }, [_c('el-card', {\n    staticClass: \"box-card\"\n  }, [_c('div', {\n    staticClass: \"clearfix\",\n    slot: \"header\"\n  }, [_c('div', [_c('span', [_vm._v(\"新消息\")]), _vm._v(\" \"), _c('el-badge', {\n    staticClass: \"mark\",\n    attrs: {\n      \"value\": _vm.messages.hasnot_read_messages.length,\n      \"max\": 99\n    }\n  }), _vm._v(\" \"), _c('el-button', {\n    staticStyle: {\n      \"float\": \"right\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.markAll($event)\n      }\n    }\n  }, [_vm._v(\"全部已读\")])], 1)]), _vm._v(\" \"), _c('main', {\n    staticClass: \"hasnot-read-messages messages\"\n  }, [(_vm.messages.hasnot_read_messages.length) ? _c('ul', {\n    staticClass: \"hasnot-read-list\"\n  }, _vm._l((_vm.messages.hasnot_read_messages), function(item) {\n    return _c('li', {\n      staticClass: \"message-item hasnot-read-item\"\n    }, [_c('router-link', {\n      staticClass: \"messager-avatar\",\n      attrs: {\n        \"to\": {\n          name: 'user',\n          params: {\n            name: item.author.loginname\n          }\n        }\n      }\n    }, [_c('img', {\n      attrs: {\n        \"src\": item.author.avatar_url,\n        \"alt\": \"\"\n      }\n    })]), _vm._v(\" \"), _c('router-link', {\n      staticClass: \"messager-name link\",\n      attrs: {\n        \"to\": {\n          name: 'user',\n          params: {\n            name: item.author.loginname\n          }\n        }\n      }\n    }, [_vm._v(\"\\n                                              \" + _vm._s(item.author.loginname) + \"\\n                                          \")]), _vm._v(\" \"), _c('p', {\n      staticClass: \"message-content\"\n    }, [(item.type == 'at') ? _c('span', [_vm._v(\"在话题\")]) : _vm._e(), _vm._v(\" \"), (item.type == 'reply') ? _c('span', [_vm._v(\"回复了您的话题\")]) : _vm._e(), _vm._v(\" \"), _c('router-link', {\n      staticClass: \"message-topic link\",\n      attrs: {\n        \"to\": {\n          name: 'topic',\n          params: {\n            id: item.topic.id\n          }\n        }\n      }\n    }, [_vm._v(\"\\n                                                  \" + _vm._s(item.topic.title) + \"\\n                                              \")]), _vm._v(\" \"), (item.type == 'at') ? _c('span', [_vm._v(\"@了您\")]) : _vm._e()], 1), _vm._v(\" \"), _c('span', {\n      staticClass: \"message-time\"\n    }, [_vm._v(_vm._s(_vm._f(\"getDateFromNow\")(item.create_at)))])], 1)\n  })) : _c('span', {\n    staticClass: \"noData\"\n  }, [_vm._v(\"暂无消息\")])])])], 1)])], 1), _vm._v(\" \"), _c('el-row', {\n    staticClass: \"cv-panel\"\n  }, [_c('el-col', {\n    attrs: {\n      \"span\": 24\n    }\n  }, [_c('div', {\n    staticClass: \"grid-content bg-purple\"\n  }, [_c('el-card', {\n    staticClass: \"box-card\"\n  }, [_c('div', {\n    staticClass: \"clearfix\",\n    slot: \"header\"\n  }, [_c('div', [_c('span', [_vm._v(\"已读消息\")]), _vm._v(\" \"), _c('el-badge', {\n    staticClass: \"mark\",\n    attrs: {\n      \"value\": _vm.messages.has_read_messages.length,\n      \"max\": 99\n    }\n  })], 1)]), _vm._v(\" \"), _c('main', {\n    staticClass: \"has-read-messages messages\"\n  }, [(_vm.messages.has_read_messages.length) ? _c('ul', {\n    staticClass: \"has-read-list\"\n  }, _vm._l((_vm.messages.has_read_messages), function(item) {\n    return _c('li', {\n      staticClass: \"message-item has-read-item\"\n    }, [_c('router-link', {\n      staticClass: \"messager-avatar\",\n      attrs: {\n        \"to\": {\n          name: 'user',\n          params: {\n            name: item.author.loginname\n          }\n        }\n      }\n    }, [_c('img', {\n      attrs: {\n        \"src\": item.author.avatar_url,\n        \"alt\": \"\"\n      }\n    })]), _vm._v(\" \"), _c('router-link', {\n      staticClass: \"messager-name link\",\n      attrs: {\n        \"to\": {\n          name: 'user',\n          params: {\n            name: item.author.loginname\n          }\n        }\n      }\n    }, [_vm._v(\"\\n                                              \" + _vm._s(item.author.loginname) + \"\\n                                          \")]), _vm._v(\" \"), _c('p', {\n      staticClass: \"message-content\"\n    }, [(item.type == 'at') ? _c('span', [_vm._v(\"在话题\")]) : _vm._e(), _vm._v(\" \"), (item.type == 'reply') ? _c('span', [_vm._v(\"回复了您的话题\")]) : _vm._e(), _vm._v(\" \"), _c('router-link', {\n      staticClass: \"message-topic link\",\n      attrs: {\n        \"to\": {\n          name: 'topic',\n          params: {\n            id: item.topic.id\n          }\n        }\n      }\n    }, [_vm._v(\"\\n                                                  \" + _vm._s(item.topic.title) + \"\\n                                              \")]), _vm._v(\" \"), (item.type == 'at') ? _c('span', [_vm._v(\"@了您\")]) : _vm._e()], 1), _vm._v(\" \"), _c('span', {\n      staticClass: \"message-time\"\n    }, [_vm._v(_vm._s(_vm._f(\"getDateFromNow\")(item.create_at)))])], 1)\n  })) : _c('span', {\n    staticClass: \"noData\"\n  }, [_vm._v(\"暂无消息\")])])])], 1)])], 1)], 1), _vm._v(\" \"), _c('el-col', {\n    attrs: {\n      \"span\": 6\n    }\n  }, [_c('div', {\n    staticClass: \"grid-content bg-purple\"\n  }, [(_vm.user.loginname) ? _c('cvAside', {\n    attrs: {\n      \"author-name\": _vm.user.loginname,\n      \"hasRecent\": false\n    }\n  }) : _vm._e()], 1)])], 1)], 1)])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.12.1.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-af779032\"}!./~/.12.1.0@vue-loader/lib/selector.js?type=template&index=0!./src/pages/message.vue\n// module id = 248\n// module chunks = 3","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/.0.28.3@css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/.12.1.0@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-af779032\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/.12.1.0@vue-loader/lib/selector.js?type=styles&index=0!./message.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/.3.0.1@vue-style-loader/lib/addStylesClient.js\")(\"593ac2e4\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.2.1.0@extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/.3.0.1@vue-style-loader!./~/.0.28.3@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/.12.1.0@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-af779032\",\"scoped\":false,\"hasInlineConfig\":false}!./~/.12.1.0@vue-loader/lib/selector.js?type=styles&index=0!./src/pages/message.vue\n// module id = 258\n// module chunks = 3","<template lang=\"html\">\r\n    <div id=\"container\">\r\n        <main id=\"main\">\r\n            <el-row :gutter=\"20\">\r\n              <el-col :span=\"18\">\r\n                  <el-row>\r\n                      <el-col :span=\"24\">\r\n                          <div class=\"grid-content bg-purple\">\r\n                              <el-card class=\"box-card\">\r\n                                  <div slot=\"header\" class=\"clearfix\">\r\n                                      <div>\r\n                                         <span>新消息</span>\r\n                                         <el-badge :value=\"messages.hasnot_read_messages.length\" :max=\"99\" class=\"mark\"></el-badge>\r\n                                         <el-button style=\"float:right;\" @click.native=\"markAll\">全部已读</el-button>\r\n                                      </div>\r\n                                  </div>\r\n                                  <main class=\"hasnot-read-messages messages\">\r\n                                      <ul  class=\"hasnot-read-list\" v-if=\"messages.hasnot_read_messages.length\">\r\n                                          <li v-for=\"item in messages.hasnot_read_messages\" class=\"message-item hasnot-read-item\">\r\n                                              <router-link :to=\"{name: 'user', params: {name: item.author.loginname}}\" class=\"messager-avatar\">\r\n                                                  <img :src=\"item.author.avatar_url\" alt=\"\" />\r\n                                              </router-link>\r\n                                              <router-link :to=\"{name: 'user', params: {name: item.author.loginname}}\" class=\"messager-name link\">\r\n                                                  {{ item.author.loginname }}\r\n                                              </router-link>\r\n                                              <p class=\"message-content\">\r\n                                                  <span v-if=\"item.type == 'at'\">在话题</span>\r\n                                                  <span v-if=\"item.type == 'reply'\">回复了您的话题</span>\r\n                                                  <router-link :to=\"{name: 'topic', params: {id: item.topic.id}}\" class=\"message-topic link\">\r\n                                                      {{ item.topic.title }}\r\n                                                  </router-link>\r\n                                                  <span v-if=\"item.type == 'at'\">@了您</span>\r\n                                              </p>\r\n                                              <span class=\"message-time\">{{ item.create_at | getDateFromNow }}</span>\r\n                                          </li>\r\n                                      </ul>\r\n                                      <span class=\"noData\" v-else>暂无消息</span>\r\n                                  </main>\r\n                              </el-card>\r\n                          </div>\r\n                      </el-col>\r\n                  </el-row>\r\n                  <el-row class=\"cv-panel\">\r\n                      <el-col :span=\"24\">\r\n                          <div class=\"grid-content bg-purple\">\r\n                              <el-card class=\"box-card\">\r\n                                  <div slot=\"header\" class=\"clearfix\">\r\n                                      <div>\r\n                                         <span>已读消息</span>\r\n                                         <el-badge :value=\"messages.has_read_messages.length\" :max=\"99\" class=\"mark\"></el-badge>\r\n                                      </div>\r\n                                  </div>\r\n                                  <main class=\"has-read-messages messages\">\r\n                                      <ul  class=\"has-read-list\" v-if=\"messages.has_read_messages.length\">\r\n                                          <li v-for=\"item in messages.has_read_messages\" class=\"message-item has-read-item\">\r\n                                              <router-link :to=\"{name: 'user', params: {name: item.author.loginname}}\" class=\"messager-avatar\">\r\n                                                  <img :src=\"item.author.avatar_url\" alt=\"\" />\r\n                                              </router-link>\r\n                                              <router-link :to=\"{name: 'user', params: {name: item.author.loginname}}\" class=\"messager-name link\">\r\n                                                  {{ item.author.loginname }}\r\n                                              </router-link>\r\n                                              <p class=\"message-content\">\r\n                                                  <span v-if=\"item.type == 'at'\">在话题</span>\r\n                                                  <span v-if=\"item.type == 'reply'\">回复了您的话题</span>\r\n                                                  <router-link :to=\"{name: 'topic', params: {id: item.topic.id}}\" class=\"message-topic link\">\r\n                                                      {{ item.topic.title }}\r\n                                                  </router-link>\r\n                                                  <span v-if=\"item.type == 'at'\">@了您</span>\r\n                                              </p>\r\n                                              <span class=\"message-time\">{{ item.create_at | getDateFromNow }}</span>\r\n                                          </li>\r\n                                      </ul>\r\n                                      <span class=\"noData\" v-else>暂无消息</span>\r\n                                  </main>\r\n                              </el-card>\r\n                          </div>\r\n                      </el-col>\r\n                  </el-row>\r\n\r\n              </el-col>\r\n              <el-col :span=\"6\">\r\n                  <div class=\"grid-content bg-purple\">\r\n                      <cvAside :author-name=\"user.loginname\" :hasRecent=\"false\" v-if=\"user.loginname\"></cvAside>\r\n                  </div>\r\n              </el-col>\r\n          </el-row>\r\n        </main>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport cvHead from \"../components/header.vue\";\r\nimport cvAside from \"../components/aside.vue\";\r\nimport { mapGetters } from \"vuex\";\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            messages: {\r\n                has_read_messages: [],\r\n                hasnot_read_messages: []\r\n            }\r\n        }\r\n    },\r\n    computed: mapGetters({\r\n        user: \"getUserInfo\"\r\n    }),\r\n    created() {\r\n        if (this.user.accesstoken) {\r\n            this.fetchMessages();\r\n        }\r\n    },\r\n    mounted() { },\r\n    methods: {\r\n        //获取已读和未读消息\r\n        fetchMessages() {\r\n            this.setLoading(true);\r\n            let self = this;\r\n            $.ajax({\r\n                url: \"https://cnodejs.org/api/v1/messages\",\r\n                type: \"GET\",\r\n                data: {\r\n                    accesstoken: self.user.accesstoken\r\n                }\r\n            }).done((res) => {\r\n                self.setLoading(false);\r\n                if (!res || !res.success) {\r\n                    //TODO 是否错误抛出  有待商榷\r\n                    self.$message({\r\n                        showClose: true,\r\n                        message: \"数据获取失败，请稍后再试！\",\r\n                        type: \"warning\"\r\n                    });\r\n                    return;\r\n                }\r\n                self.messages = res.data || self.messages;\r\n            }).fail((error) => {\r\n                this.setLoading(false);\r\n                //TODO 是否错误抛出  有待商榷\r\n                self.$message({\r\n                    showClose: true,\r\n                    message: \"数据获取失败，请稍后再试！\",\r\n                    type: \"warning\"\r\n                })\r\n            });\r\n        },\r\n        //消息全部已读\r\n        markAll() {\r\n            if (!this.user.accesstoken) {\r\n                return;\r\n            }\r\n            if (this.messages.hasnot_read_messages.length < 1) {\r\n                this.$message({\r\n                    showClose: true,\r\n                    message: \"暂无未读消息\",\r\n                    type: \"info\"\r\n                });\r\n                return;\r\n            }\r\n            this.setLoading(true);\r\n            let self = this;\r\n            $.ajax({\r\n                url: \"https://cnodejs.org/api/v1/message/mark_all\",\r\n                type: \"POST\",\r\n                dataType: \"json\",\r\n                data: {\r\n                    accesstoken: self.user.accesstoken\r\n                }\r\n            }).done((res) => {\r\n                this.setLoading(false);\r\n                if (!res || !res.success) {\r\n                    self.$message({\r\n                        showClose: true,\r\n                        message: \"操作失败\",\r\n                        type: \"warning\"\r\n                    });\r\n                    return;\r\n                }\r\n                self.messages.has_read_messages = self.messages.hasnot_read_messages.concat(self.messages.has_read_messages);\r\n                self.messages.hasnot_read_messages = [];\r\n                self.$message({\r\n                    showClose: true,\r\n                    message: \"消息全部设置已读！\",\r\n                    type: \"success\"\r\n                });\r\n                self.$store.commit(\"setValue\", {\r\n                    key: \"message\",\r\n                    value: 0\r\n                });\r\n                localStorage.message = 0;\r\n            }).fail((error) => {\r\n                this.setLoading(false);\r\n                self.$message({\r\n                    showClose: true,\r\n                    message: \"操作失败\",\r\n                    type: \"warning\"\r\n                });\r\n            });\r\n        },\r\n        setLoading(state) {\r\n            this.$store.commit(\"setLoading\", state);\r\n        }\r\n    },\r\n    components: {\r\n        cvHead,\r\n        cvAside\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"css\">\r\n.messages .message-item {\r\n    border-top: 1px solid #f0f0f0;\r\n    padding: 10px 0;\r\n}\r\n\r\n.messages .message-item:nth-of-type(1) {\r\n    border-top: none;\r\n    padding-top: 0;\r\n}\r\n\r\n.messages .message-item .messager-avatar {\r\n    display: inline-block;\r\n}\r\n\r\n.messages .message-item .messager-avatar img {\r\n    width: 30px;\r\n    height: 30px;\r\n}\r\n\r\n.messages .message-item .link {\r\n    color: #20a0ff;\r\n}\r\n\r\n.message-content {\r\n    display: inline-block;\r\n}\r\n\r\n.messages .message-item .message-time {\r\n    float: right;\r\n    text-align: right;\r\n    min-width: 50px;\r\n    display: inline-block;\r\n    white-space: nowrap;\r\n    color: #778087;\r\n    font-size: 11px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// message.vue?26ae351a"],"sourceRoot":""}