{"version":3,"sources":["webpack:///static/js/8.48fe1acff74030202eab.js","webpack:///./src/pages/regest.vue","webpack:///./src/pages/regest.vue?f6bc","webpack:///./src/pages/regest.vue?ce77","webpack:///./src/pages/regest.vue?cc54","webpack:///regest.vue"],"names":["webpackJsonp","180","module","exports","__webpack_require__","injectStyle","ssrContext","Component","233","push","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","244","render","_vm","this","_h","$createElement","_c","_self","attrs","id","gutter","span","offset","staticClass","slot","_v","ref","label-width","on","submit","$event","preventDefault","regest","label","maxlength","minlength","placeholder","model","value","callback","$$v","loginid","trim","expression","password","type","nativeOn","click","staticRenderFns","255","content","locals","273","__webpack_exports__","Object","defineProperty","$","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default","n","data","alert","title","description","redirect","$route","query","mounted","methods","goBack","decodeURIComponent","$router","replace","_this","self","$message","showClose","message","setLoading","ajax","url","dataType","done","res","success","errorHandle","user","loginname","username","avatar","avatar_url","accesstoken","score","forEach","v","localStorage","$store","dispatch","then","onClose","fail","error","state","commit","call"],"mappings":"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","file":"static/js/8.48fe1acff74030202eab.js","sourcesContent":["webpackJsonp([8],{\n\n/***/ 180:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(255)\n}\nvar Component = __webpack_require__(12)(\n  /* script */\n  __webpack_require__(273),\n  /* template */\n  __webpack_require__(244),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 233:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(173)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".input-area{position:relative;text-align:center;width:50%;margin-left:25%}\", \"\", {\"version\":3,\"sources\":[\"C:/Users/gwj12/Desktop/frontend_club/src/pages/regest.vue\"],\"names\":[],\"mappings\":\"AACA,YACI,kBAAmB,AACnB,kBAAmB,AACnB,UAAW,AACX,eAAiB,CACpB\",\"file\":\"regest.vue\",\"sourcesContent\":[\"\\n.input-area {\\r\\n    position: relative;\\r\\n    text-align: center;\\r\\n    width: 50%;\\r\\n    margin-left: 25%;\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 244:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"container\"\n    }\n  }, [_c('main', {\n    attrs: {\n      \"id\": \"main\"\n    }\n  }, [_c('el-row', {\n    attrs: {\n      \"gutter\": 20\n    }\n  }, [_c('el-col', {\n    attrs: {\n      \"span\": 18,\n      \"id\": \"content\",\n      \"offset\": 3\n    }\n  }, [_c('div', {\n    staticClass: \"grid-content bg-purple\"\n  }, [_c('el-card', {\n    staticClass: \"box-card\"\n  }, [_c('header', {\n    staticClass: \"clearfix\",\n    attrs: {\n      \"id\": \"panel-header\"\n    },\n    slot: \"header\"\n  }, [_c('span', [_vm._v(\"登录\")])]), _vm._v(\" \"), _c('main', [_c('div', {\n    staticClass: \"input-area\"\n  }, [_c('el-form', {\n    ref: \"form\",\n    attrs: {\n      \"label-width\": \"80px\"\n    },\n    on: {\n      \"submit\": function($event) {\n        $event.preventDefault();\n        _vm.regest($event)\n      }\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"用户名\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"maxlength\": 36,\n      \"minlength\": 36,\n      \"placeholder\": \"请输入账号...\"\n    },\n    model: {\n      value: (_vm.loginid),\n      callback: function($$v) {\n        _vm.loginid = (typeof $$v === 'string' ? $$v.trim() : $$v)\n      },\n      expression: \"loginid\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"密码\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"maxlength\": 36,\n      \"minlength\": 36,\n      \"placeholder\": \"请输入密码...\"\n    },\n    model: {\n      value: (_vm.password),\n      callback: function($$v) {\n        _vm.password = (typeof $$v === 'string' ? $$v.trim() : $$v)\n      },\n      expression: \"password\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.regest($event)\n      }\n    }\n  }, [_vm._v(\"注册\")])], 1)], 1)], 1)])])], 1)])], 1)], 1)])\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 255:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(233);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(174)(\"2b5fca3f\", content, true);\n\n/***/ }),\n\n/***/ 273:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* WEBPACK VAR INJECTION */(function($) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__);\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    data: function data() {\n        return {\n            loginid: \"\",\n            password: '',\n            alert: {\n                title: \"\",\n                type: \"\",\n                description: \"\"\n            },\n            redirect: this.$route.query.redirect || \"\"\n        };\n    },\n    mounted: function mounted() {},\n\n    methods: {\n        goBack: function goBack() {\n            var redirect = decodeURIComponent(this.$route.query.redirect);\n            this.$router.replace(redirect);\n        },\n        regest: function regest() {\n            var _this = this;\n\n            var self = this,\n                accesstoken = self.loginid;\n            if (!accesstoken) {\n                self.$message({\n                    showClose: true,\n                    message: \"请输入账号\",\n                    type: \"error\"\n                });\n                return;\n            }\n            this.setLoading(true);\n            $.ajax({\n                type: \"POST\",\n                url: 'http://119.23.245.101:8080/User/regest',\n                data: {\n                    loginid: self.loginid,\n                    password: self.password\n                },\n                dataType: 'json'\n            }).done(function (res) {\n                _this.setLoading(false);\n                if (!res || !res.success) {\n                    self.errorHandle();\n                    return;\n                }\n                res = res.data;\n                var user = {\n                    id: res.id,\n                    loginname: res.username,\n                    avatar: res.avatar_url,\n                    accesstoken: res.loginid,\n                    score: null,\n                    message: null\n                };\n\n                __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default()(user).forEach(function (v) {\n                    localStorage[v] = user[v];\n                });\n                _this.$store.dispatch(\"setUserInfo\", user).then(function () {\n                    self.$message({\n                        showClose: true,\n                        message: \"注册成功\",\n                        type: \"success\",\n                        onClose: function onClose() {\n                            var redirect = decodeURIComponent(self.$route.query.redirect || \"/\");\n                            self.$router.replace(redirect);\n                        }\n                    });\n                });\n            }).fail(function (error) {\n                _this.setLoading(false);\n                self.errorHandle();\n            });\n        },\n        errorHandle: function errorHandle() {\n            self.$message({\n                showClose: true,\n                message: \"注册出错，请稍候再试！\",\n                type: \"warning\"\n            });\n        },\n        setLoading: function setLoading(state) {\n            this.$store.commit(\"setLoading\", state);\n        }\n    }\n});\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(22)))\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/8.48fe1acff74030202eab.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/.2.1.0@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/.12.1.0@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-48162842\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/.12.1.0@vue-loader/lib/selector?type=styles&index=0!./regest.vue\")\n}\nvar Component = require(\"!../../node_modules/.12.1.0@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/.12.1.0@vue-loader/lib/selector?type=script&index=0!./regest.vue\"),\n  /* template */\n  require(\"!!../../node_modules/.12.1.0@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-48162842\\\"}!../../node_modules/.12.1.0@vue-loader/lib/selector?type=template&index=0!./regest.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/regest.vue\n// module id = 180\n// module chunks = 8","exports = module.exports = require(\"../../node_modules/.0.28.3@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".input-area{position:relative;text-align:center;width:50%;margin-left:25%}\", \"\", {\"version\":3,\"sources\":[\"C:/Users/gwj12/Desktop/frontend_club/src/pages/regest.vue\"],\"names\":[],\"mappings\":\"AACA,YACI,kBAAmB,AACnB,kBAAmB,AACnB,UAAW,AACX,eAAiB,CACpB\",\"file\":\"regest.vue\",\"sourcesContent\":[\"\\n.input-area {\\r\\n    position: relative;\\r\\n    text-align: center;\\r\\n    width: 50%;\\r\\n    margin-left: 25%;\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.0.28.3@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/.12.1.0@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-48162842\",\"scoped\":false,\"hasInlineConfig\":false}!./~/.12.1.0@vue-loader/lib/selector.js?type=styles&index=0!./src/pages/regest.vue\n// module id = 233\n// module chunks = 8","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"container\"\n    }\n  }, [_c('main', {\n    attrs: {\n      \"id\": \"main\"\n    }\n  }, [_c('el-row', {\n    attrs: {\n      \"gutter\": 20\n    }\n  }, [_c('el-col', {\n    attrs: {\n      \"span\": 18,\n      \"id\": \"content\",\n      \"offset\": 3\n    }\n  }, [_c('div', {\n    staticClass: \"grid-content bg-purple\"\n  }, [_c('el-card', {\n    staticClass: \"box-card\"\n  }, [_c('header', {\n    staticClass: \"clearfix\",\n    attrs: {\n      \"id\": \"panel-header\"\n    },\n    slot: \"header\"\n  }, [_c('span', [_vm._v(\"登录\")])]), _vm._v(\" \"), _c('main', [_c('div', {\n    staticClass: \"input-area\"\n  }, [_c('el-form', {\n    ref: \"form\",\n    attrs: {\n      \"label-width\": \"80px\"\n    },\n    on: {\n      \"submit\": function($event) {\n        $event.preventDefault();\n        _vm.regest($event)\n      }\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"用户名\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"maxlength\": 36,\n      \"minlength\": 36,\n      \"placeholder\": \"请输入账号...\"\n    },\n    model: {\n      value: (_vm.loginid),\n      callback: function($$v) {\n        _vm.loginid = (typeof $$v === 'string' ? $$v.trim() : $$v)\n      },\n      expression: \"loginid\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"密码\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"maxlength\": 36,\n      \"minlength\": 36,\n      \"placeholder\": \"请输入密码...\"\n    },\n    model: {\n      value: (_vm.password),\n      callback: function($$v) {\n        _vm.password = (typeof $$v === 'string' ? $$v.trim() : $$v)\n      },\n      expression: \"password\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.regest($event)\n      }\n    }\n  }, [_vm._v(\"注册\")])], 1)], 1)], 1)])])], 1)])], 1)], 1)])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.12.1.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-48162842\"}!./~/.12.1.0@vue-loader/lib/selector.js?type=template&index=0!./src/pages/regest.vue\n// module id = 244\n// module chunks = 8","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/.0.28.3@css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/.12.1.0@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-48162842\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/.12.1.0@vue-loader/lib/selector.js?type=styles&index=0!./regest.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/.3.0.1@vue-style-loader/lib/addStylesClient.js\")(\"2b5fca3f\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.2.1.0@extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/.3.0.1@vue-style-loader!./~/.0.28.3@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/.12.1.0@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-48162842\",\"scoped\":false,\"hasInlineConfig\":false}!./~/.12.1.0@vue-loader/lib/selector.js?type=styles&index=0!./src/pages/regest.vue\n// module id = 255\n// module chunks = 8","<template lang=\"html\">\r\n    <div id=\"container\">\r\n    <main id=\"main\">\r\n        <el-row :gutter=\"20\">\r\n            <el-col :span=\"18\" id=\"content\" :offset=\"3\">\r\n                <div class=\"grid-content bg-purple\">\r\n                    <el-card class=\"box-card\">\r\n                        <header slot=\"header\" class=\"clearfix\" id=\"panel-header\">\r\n                            <span>登录</span>\r\n                        </header>\r\n                        <main>\r\n                            <div class=\"input-area\">\r\n                              <el-form ref=\"form\" label-width=\"80px\" @submit.prevent=\"regest\">\r\n                                <el-form-item label=\"用户名\">\r\n                                  <el-input v-model.trim=\"loginid\" :maxlength=\"36\" :minlength='36' placeholder=\"请输入账号...\"></el-input>\r\n                                </el-form-item>\r\n                                <el-form-item label=\"密码\">\r\n                                  <el-input v-model.trim=\"password\" :maxlength=\"36\" :minlength='36' placeholder=\"请输入密码...\"></el-input>\r\n                                </el-form-item>\r\n                                <el-form-item>\r\n                                    <el-button type=\"primary\" @click.native=\"regest\">注册</el-button>\r\n                                </el-form-item>\r\n                              </el-form>\r\n                            </div>\r\n                        </main>\r\n                    </el-card>\r\n                </div>\r\n            </el-col>\r\n          </el-row>\r\n    </main>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data() {\r\n        return {\r\n            loginid: \"\",\r\n            password: '',\r\n            alert: {\r\n                title: \"\",\r\n                type: \"\",\r\n                description: \"\",\r\n            },\r\n            redirect: this.$route.query.redirect || \"\"\r\n        }\r\n    },\r\n    mounted() { },\r\n    methods: {\r\n        goBack() {\r\n            let redirect = decodeURIComponent(this.$route.query.redirect);\r\n            this.$router.replace(redirect);\r\n        },\r\n        regest() {\r\n            let self = this,\r\n                accesstoken = self.loginid;\r\n            if (!accesstoken) {\r\n                self.$message({\r\n                    showClose: true,\r\n                    message: \"请输入账号\",\r\n                    type: \"error\"\r\n                })\r\n                return;\r\n            }\r\n            this.setLoading(true);\r\n            $.ajax({\r\n                type: \"POST\",\r\n                url: 'http://119.23.245.101:8080/User/regest',\r\n                data: {\r\n                    loginid: self.loginid,\r\n                    password: self.password\r\n                },\r\n                dataType: 'json'\r\n            }).done((res) => {\r\n                this.setLoading(false);\r\n                if (!res || !res.success) {\r\n                    self.errorHandle();\r\n                    return;\r\n                }\r\n                res = res.data;\r\n                let user = {\r\n                    id: res.id,\r\n                    loginname: res.username,\r\n                    avatar: res.avatar_url,\r\n                    accesstoken: res.loginid,\r\n                    score: null,\r\n                    message: null\r\n                };\r\n                //由于vuex在页面刷新时会把state清空（什么鬼呀）\r\n                //所以此处得把user信息存入localStorage\r\n                Object.keys(user).forEach(v => {\r\n                    localStorage[v] = user[v];\r\n                });\r\n                this.$store.dispatch(\"setUserInfo\", user).then(() => {\r\n                    self.$message({\r\n                        showClose: true,\r\n                        message: \"注册成功\",\r\n                        type: \"success\",\r\n                        onClose() {\r\n                            let redirect = decodeURIComponent(self.$route.query.redirect || \"/\");\r\n                            self.$router.replace(redirect);\r\n                        }\r\n                    });\r\n                });\r\n            }).fail((error) => {\r\n                this.setLoading(false);\r\n                self.errorHandle();\r\n            });\r\n        },\r\n        errorHandle() {\r\n            self.$message({\r\n                showClose: true,\r\n                message: \"注册出错，请稍候再试！\",\r\n                type: \"warning\"\r\n            });\r\n        },\r\n        setLoading(state) {\r\n            this.$store.commit(\"setLoading\", state);\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"css\">\r\n.input-area {\r\n    position: relative;\r\n    text-align: center;\r\n    width: 50%;\r\n    margin-left: 25%;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// regest.vue?4221d1bf"],"sourceRoot":""}