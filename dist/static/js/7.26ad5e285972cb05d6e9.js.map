{"version":3,"sources":["webpack:///static/js/7.26ad5e285972cb05d6e9.js","webpack:///./src/pages/login.vue","webpack:///./src/pages/login.vue?58e7","webpack:///./src/pages/login.vue?7781","webpack:///./src/pages/login.vue?243f","webpack:///login.vue"],"names":["webpackJsonp","178","module","exports","__webpack_require__","injectStyle","ssrContext","Component","235","push","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","246","render","_vm","this","_h","$createElement","_c","_self","attrs","id","gutter","span","offset","staticClass","slot","_v","ref","label-width","on","submit","$event","preventDefault","login","label","maxlength","minlength","placeholder","model","value","callback","$$v","at","trim","expression","type","nativeOn","click","goBack","_e","staticRenderFns","255","content","locals","266","__webpack_exports__","Object","defineProperty","$","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default","n","data","alert","title","description","redirect","$route","query","mounted","methods","decodeURIComponent","$router","replace","_this","self","accesstoken","$message","showClose","message","setLoading","ajax","url","dataType","done","res","success","errorHandle","user","loginname","avatar","avatar_url","score","forEach","v","localStorage","$store","dispatch","then","onClose","fail","error","state","commit","call"],"mappings":"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","file":"static/js/7.26ad5e285972cb05d6e9.js","sourcesContent":["webpackJsonp([7],{\n\n/***/ 178:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(255)\n}\nvar Component = __webpack_require__(12)(\n  /* script */\n  __webpack_require__(266),\n  /* template */\n  __webpack_require__(246),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 235:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(173)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".input-area{position:relative;text-align:center;width:50%;margin-left:25%}\", \"\", {\"version\":3,\"sources\":[\"C:/Users/gwj12/Desktop/frontend_club/src/pages/login.vue\"],\"names\":[],\"mappings\":\"AACA,YACI,kBAAmB,AACnB,kBAAmB,AACnB,UAAW,AACX,eAAiB,CACpB\",\"file\":\"login.vue\",\"sourcesContent\":[\"\\n.input-area {\\n    position: relative;\\n    text-align: center;\\n    width: 50%;\\n    margin-left: 25%;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 246:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"container\"\n    }\n  }, [_c('main', {\n    attrs: {\n      \"id\": \"main\"\n    }\n  }, [_c('el-row', {\n    attrs: {\n      \"gutter\": 20\n    }\n  }, [_c('el-col', {\n    attrs: {\n      \"span\": 18,\n      \"id\": \"content\",\n      \"offset\": 3\n    }\n  }, [_c('div', {\n    staticClass: \"grid-content bg-purple\"\n  }, [_c('el-card', {\n    staticClass: \"box-card\"\n  }, [_c('header', {\n    staticClass: \"clearfix\",\n    attrs: {\n      \"id\": \"panel-header\"\n    },\n    slot: \"header\"\n  }, [_c('span', [_vm._v(\"登录\")])]), _vm._v(\" \"), _c('main', [_c('div', {\n    staticClass: \"input-area\"\n  }, [_c('el-form', {\n    ref: \"form\",\n    attrs: {\n      \"label-width\": \"80px\"\n    },\n    on: {\n      \"submit\": function($event) {\n        $event.preventDefault();\n        _vm.login($event)\n      }\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"token\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"maxlength\": 36,\n      \"minlength\": 36,\n      \"placeholder\": \"请输入个人accesstoken...\"\n    },\n    model: {\n      value: (_vm.at),\n      callback: function($$v) {\n        _vm.at = (typeof $$v === 'string' ? $$v.trim() : $$v)\n      },\n      expression: \"at\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', [(_vm.redirect) ? _c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.goBack($event)\n      }\n    }\n  }, [_c('i', {\n    staticClass: \"el-icon-caret-left\"\n  }), _vm._v(\"返回上一页\")]) : _vm._e(), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.login($event)\n      }\n    }\n  }, [_vm._v(\"登录\")])], 1)], 1)], 1)])])], 1)])], 1)], 1)])\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 255:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(235);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(174)(\"6c0df410\", content, true);\n\n/***/ }),\n\n/***/ 266:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* WEBPACK VAR INJECTION */(function($) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__ = __webpack_require__(79);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__);\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    data: function data() {\n        return {\n            at: \"\",\n            alert: {\n                title: \"\",\n                type: \"\",\n                description: \"\"\n            },\n            redirect: this.$route.query.redirect || \"\"\n        };\n    },\n    mounted: function mounted() {},\n\n    methods: {\n        goBack: function goBack() {\n            var redirect = decodeURIComponent(this.$route.query.redirect);\n            this.$router.replace(redirect);\n        },\n        login: function login() {\n            var _this = this;\n\n            var self = this,\n                accesstoken = self.at;\n            if (!accesstoken) {\n                self.$message({\n                    showClose: true,\n                    message: \"token格式错误，可从官网个人设置页面获取\",\n                    type: \"error\"\n                });\n                return;\n            }\n            this.setLoading(true);\n            $.ajax({\n                type: \"POST\",\n                url: 'https://cnodejs.org/api/v1/accesstoken',\n                dataType: 'json',\n                data: {\n                    accesstoken: accesstoken\n                }\n            }).done(function (res) {\n                _this.setLoading(false);\n                if (!res || !res.success) {\n                    self.errorHandle();\n                    return;\n                }\n                var user = {\n                    id: res.id,\n                    loginname: res.loginname,\n                    avatar: res.avatar_url,\n                    accesstoken: accesstoken,\n                    score: null,\n                    message: null\n                };\n\n                __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default()(user).forEach(function (v) {\n                    localStorage[v] = user[v];\n                });\n                _this.$store.dispatch(\"setUserInfo\", user).then(function () {\n                    self.$message({\n                        showClose: true,\n                        message: \"登录成功\",\n                        type: \"success\",\n                        onClose: function onClose() {\n                            var redirect = decodeURIComponent(self.$route.query.redirect || \"/\");\n                            self.$router.replace(redirect);\n                        }\n                    });\n                });\n            }).fail(function (error) {\n                _this.setLoading(false);\n                self.errorHandle();\n            });\n        },\n        errorHandle: function errorHandle() {\n            self.$message({\n                showClose: true,\n                message: \"登录出错，请稍候再试！\",\n                type: \"warning\"\n            });\n        },\n        setLoading: function setLoading(state) {\n            this.$store.commit(\"setLoading\", state);\n        }\n    }\n});\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(22)))\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/7.26ad5e285972cb05d6e9.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/.2.1.0@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/.12.1.0@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6c663849\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/.12.1.0@vue-loader/lib/selector?type=styles&index=0!./login.vue\")\n}\nvar Component = require(\"!../../node_modules/.12.1.0@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/.12.1.0@vue-loader/lib/selector?type=script&index=0!./login.vue\"),\n  /* template */\n  require(\"!!../../node_modules/.12.1.0@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6c663849\\\"}!../../node_modules/.12.1.0@vue-loader/lib/selector?type=template&index=0!./login.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/login.vue\n// module id = 178\n// module chunks = 7","exports = module.exports = require(\"../../node_modules/.0.28.3@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".input-area{position:relative;text-align:center;width:50%;margin-left:25%}\", \"\", {\"version\":3,\"sources\":[\"C:/Users/gwj12/Desktop/frontend_club/src/pages/login.vue\"],\"names\":[],\"mappings\":\"AACA,YACI,kBAAmB,AACnB,kBAAmB,AACnB,UAAW,AACX,eAAiB,CACpB\",\"file\":\"login.vue\",\"sourcesContent\":[\"\\n.input-area {\\n    position: relative;\\n    text-align: center;\\n    width: 50%;\\n    margin-left: 25%;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.0.28.3@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/.12.1.0@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-6c663849\",\"scoped\":false,\"hasInlineConfig\":false}!./~/.12.1.0@vue-loader/lib/selector.js?type=styles&index=0!./src/pages/login.vue\n// module id = 235\n// module chunks = 7","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"container\"\n    }\n  }, [_c('main', {\n    attrs: {\n      \"id\": \"main\"\n    }\n  }, [_c('el-row', {\n    attrs: {\n      \"gutter\": 20\n    }\n  }, [_c('el-col', {\n    attrs: {\n      \"span\": 18,\n      \"id\": \"content\",\n      \"offset\": 3\n    }\n  }, [_c('div', {\n    staticClass: \"grid-content bg-purple\"\n  }, [_c('el-card', {\n    staticClass: \"box-card\"\n  }, [_c('header', {\n    staticClass: \"clearfix\",\n    attrs: {\n      \"id\": \"panel-header\"\n    },\n    slot: \"header\"\n  }, [_c('span', [_vm._v(\"登录\")])]), _vm._v(\" \"), _c('main', [_c('div', {\n    staticClass: \"input-area\"\n  }, [_c('el-form', {\n    ref: \"form\",\n    attrs: {\n      \"label-width\": \"80px\"\n    },\n    on: {\n      \"submit\": function($event) {\n        $event.preventDefault();\n        _vm.login($event)\n      }\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"token\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"maxlength\": 36,\n      \"minlength\": 36,\n      \"placeholder\": \"请输入个人accesstoken...\"\n    },\n    model: {\n      value: (_vm.at),\n      callback: function($$v) {\n        _vm.at = (typeof $$v === 'string' ? $$v.trim() : $$v)\n      },\n      expression: \"at\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', [(_vm.redirect) ? _c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.goBack($event)\n      }\n    }\n  }, [_c('i', {\n    staticClass: \"el-icon-caret-left\"\n  }), _vm._v(\"返回上一页\")]) : _vm._e(), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.login($event)\n      }\n    }\n  }, [_vm._v(\"登录\")])], 1)], 1)], 1)])])], 1)])], 1)], 1)])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.12.1.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-6c663849\"}!./~/.12.1.0@vue-loader/lib/selector.js?type=template&index=0!./src/pages/login.vue\n// module id = 246\n// module chunks = 7","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/.0.28.3@css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/.12.1.0@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6c663849\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/.12.1.0@vue-loader/lib/selector.js?type=styles&index=0!./login.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/.3.0.1@vue-style-loader/lib/addStylesClient.js\")(\"6c0df410\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.2.1.0@extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/.3.0.1@vue-style-loader!./~/.0.28.3@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/.12.1.0@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-6c663849\",\"scoped\":false,\"hasInlineConfig\":false}!./~/.12.1.0@vue-loader/lib/selector.js?type=styles&index=0!./src/pages/login.vue\n// module id = 255\n// module chunks = 7","<template lang=\"html\">\r\n    <div id=\"container\">\r\n    <main id=\"main\">\r\n        <el-row :gutter=\"20\">\r\n            <el-col :span=\"18\" id=\"content\" :offset=\"3\">\r\n                <div class=\"grid-content bg-purple\">\r\n                    <el-card class=\"box-card\">\r\n                        <header slot=\"header\" class=\"clearfix\" id=\"panel-header\">\r\n                            <span>登录</span>\r\n                        </header>\r\n                        <main>\r\n                            <div class=\"input-area\">\r\n                              <el-form ref=\"form\" label-width=\"80px\" @submit.prevent=\"login\">\r\n                                <el-form-item label=\"token\">\r\n                                  <el-input v-model.trim=\"at\" :maxlength=\"36\" :minlength='36' placeholder=\"请输入个人accesstoken...\"></el-input>\r\n                                </el-form-item>\r\n                                <el-form-item>\r\n                                    <el-button type=\"primary\" @click.native=\"goBack\" v-if=\"redirect\"><i class=\"el-icon-caret-left\"></i>返回上一页</el-button>\r\n                                  <el-button type=\"primary\" @click.native=\"login\">登录</el-button>\r\n                                </el-form-item>\r\n                              </el-form>\r\n                            </div>\r\n                        </main>\r\n                    </el-card>\r\n                </div>\r\n            </el-col>\r\n          </el-row>\r\n    </main>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data() {\r\n        return {\r\n            at: \"\",\r\n            alert: {\r\n                title: \"\",\r\n                type: \"\",\r\n                description: \"\",\r\n            },\r\n            redirect: this.$route.query.redirect || \"\"\r\n        }\r\n    },\r\n    mounted() {},\r\n    methods: {\r\n        goBack() {\r\n            let redirect = decodeURIComponent(this.$route.query.redirect);\r\n            this.$router.replace(redirect);\r\n        },\r\n        login() {\r\n            let self = this,\r\n                accesstoken = self.at;\r\n            if (!accesstoken) {\r\n                self.$message({\r\n                    showClose: true,\r\n                    message: \"token格式错误，可从官网个人设置页面获取\",\r\n                    type: \"error\"\r\n                })\r\n                return;\r\n            }\r\n            this.setLoading(true);\r\n            $.ajax({\r\n                type: \"POST\",\r\n                url: 'https://cnodejs.org/api/v1/accesstoken',\r\n                dataType: 'json',\r\n                data: {\r\n                    accesstoken: accesstoken\r\n                }\r\n            }).done((res) => {\r\n                this.setLoading(false);\r\n                if (!res || !res.success) {\r\n                    self.errorHandle();\r\n                    return;\r\n                }\r\n                let user = {\r\n                    id: res.id,\r\n                    loginname: res.loginname,\r\n                    avatar: res.avatar_url,\r\n                    accesstoken: accesstoken,\r\n                    score: null,\r\n                    message: null\r\n                };\r\n                //由于vuex在页面刷新时会把state清空（什么鬼呀）\r\n                //所以此处得把user信息存入localStorage\r\n                Object.keys(user).forEach(v => {\r\n                    localStorage[v] = user[v];\r\n                });\r\n                this.$store.dispatch(\"setUserInfo\", user).then(() => {\r\n                    self.$message({\r\n                        showClose: true,\r\n                        message: \"登录成功\",\r\n                        type: \"success\",\r\n                        onClose() {\r\n                            let redirect = decodeURIComponent(self.$route.query.redirect || \"/\");\r\n                            self.$router.replace(redirect);\r\n                        }\r\n                    });\r\n                });\r\n            }).fail((error) => {\r\n                this.setLoading(false);\r\n                self.errorHandle();\r\n            });\r\n        },\r\n        errorHandle (){\r\n            self.$message({\r\n                showClose: true,\r\n                message: \"登录出错，请稍候再试！\",\r\n                type: \"warning\"\r\n            });\r\n        },\r\n        setLoading (state) {\r\n            this.$store.commit(\"setLoading\", state);\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"css\">\r\n    .input-area {\r\n        position: relative;\r\n        text-align: center;\r\n        width: 50%;\r\n        margin-left: 25%;\r\n    }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// login.vue?6f5fb280"],"sourceRoot":""}